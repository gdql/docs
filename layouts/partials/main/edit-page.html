{{/* Override: use GitHub "edit" URL so the link opens the edit page, not blob view. */}}
{{ $repo := site.Params.doks.docsRepo }}
{{ $branch := site.Params.doks.docsRepoBranch }}
{{ $subPath := site.Params.doks.docsRepoSubPath }}
{{ $filePath := replace .File.Path "\\" "/" }}
{{ $lang := "" }}
{{ if site.Params.doks.multilingualMode }}{{ $lang = .Lang }}{{ end }}

{{ $parts := slice $repo "edit" $branch }}
{{ if ne $subPath "" }}
  {{ $parts = $parts | append $subPath }}
{{ end }}
{{ $parts = $parts | append "content" $lang $filePath }}
{{ $url := delimit $parts "/" }}

<div class="edit-page">
  <a href="{{ $url }}" rel="noopener noreferrer" target="_blank">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2">
      <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
    </svg>
    {{ i18n "edit_page" }} {{ site.Params.doks.repoHost | default "GitHub" }}
  </a>
</div>
